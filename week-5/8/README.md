# CSRF vs XSRF

## Задание

CSRF vs XSRF

## Что такое CSRF и XSRF?

- **CSRF (Cross-Site Request Forgery)** - уязвимость, при которой злоумышленник заставляет пользователя выполнить нежелательное действие на сайте, где тот уже авторизован 
- **XSRF** - это просто альтернативное написание термина CSRF, смысл один и тот же

## Как работает атака CSRF?

1. Пользователь входит на доверенный сайт (например, интернет-банк)
2. В браузере сохраняются **cookies/сессия** 
3. Пользователь открывает вредоносный сай
4. Этот сайт незаметно отправляет запрос к доверенному сайту, браузер автоматически прикладывает cookies
5. Сервер думает, что действие совершил сам пользователь

## Методы защиты

### CSRF-токены

Каждый запрос сопровождается уникальным токеном, который хранится в сессии.

### SameSite cookies

Атрибут SameSite=Strict/Lax запрещает отправку cookies при кросс-доменных запросах.

### Проверка Origin

Сервер проверяет, что запрос пришёл с разрешённого источника.

### Подтверждение действий

Критические операции требуют ввода пароля, SMS-кода или 2FA.